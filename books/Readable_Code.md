# リーダブルコード

## 名前に情報を詰め込む
名前をみただけで情報を読み取れるようにする。
- 明確な単語： `Get` ではなく，`Fetch`，`Download`
- `tmp`, `retval` など，汎用的な名前避ける
- 具体的な名前を使って，詳細に説明する：`ServerStart()` よりも `ListenOnPort()`
- 変数名に大切な情報を追加する：変数名に単位 `_ms` をつける
- スコープの大きな変数には長い名前をつける
- 大文字やアンダースコアに意味を含める：クラスのメンバ変数にだけアンダースコアをつける

## 誤解されない名前
- boolean には `is`, `has` をつける
- 否定形の変数名を避ける
- `get()`, `size()` は軽量であることが一般に期待される

## 美しさ
- 複数のコードブロックで同じことをしていたら，シルエットも似たようにする
- コードの列を揃えると，概要を把握しやすくなる
- ある場所で「A・B・C」と並んでいたら，他のところで「B・A・C」にしたりしない
- コード全体を，空行を使って意味的な段落に分ける

## コメントすべきこと
コメントの目的は，コードの糸を読み手に理解してもらうこと

コメントすべきでないこと
  - コードからすぐにわかること
  - ひどいコードを補うコメントを書くのではなく，コードを修正する

記録すべき自分の考え
  - なぜコードが他のやり方ではなく，こうなっているのか
  - コードの欠陥を `TODO:` `XXX:` `FIXME:` などの記法で強調する
  - 定数の値にまつわる背景
  - 例）
> ```python
> epoch_limit = 100 # この上限値は速度と性能の面でバランスが良い
>```

読み手の立場になって考える
- 読んだ人が「？」となるところを予想してコメントする
- 平均的な読み手が驚く動作は文書化しておく
- ファイルやクラスには「全体像」のコメントを
- コードブロックの先頭には概要コメントをつける

## コメントは正確で簡潔に
小さな領域に情報量の多いコメントを書くことが肝要。
- 「それ」「これ」を避ける
- 関数の動作は正確に記述
- コメントに含める入出力の実例を吟味する
- コードの意図は詳細ではなく高レベルで記述
- よくわからない引数にはインラインコメントをつける
- パターンやイディオムについての情報量の多い単語を使う（例：ヒューリスティック，総当たり，キャッシュ など）

## 制御フローを読みやすくする
- 条件分岐では，変化する値を左辺にする
> ```python
> if(count < 100): # ダメ → if (100 < count)
>```
- if/else のブロックの並び替え。肯定形・単純・目立つ物 を先にする
- 三項演算子は読みやすくなる場合にだけ使う
- ネストを深くしない。ガード節を使う。値を早めに返す。
  
## 巨大な式を分割する
- 「説明変数」を追加
>```python
># わかりづらい
>if line.split(':')[0] == 'root':
>...
>
># 分割するとわかりやすい↓
>username = line.split(':')[0]
>if username == 'root':
>...
>```
- 論理式を，ド・モルガンの法則を使ってわかりやすい形式に変形する

## 変数と読みやすさ
- 